## 回放器介绍 ##

EB 的战况回放器用于展现战斗场面，让玩家能够形象的看到战斗过程，分析自己算法的优劣。

![http://erlbattle.googlecode.com/files/replay-pic.png](http://erlbattle.googlecode.com/files/replay-pic.png)

战况回放器的第一版下载： http://erlbattle.googlecode.com/files/fla.zip

（下载后，解压，然后运行之。 是一个flash 程序， 其中的日志格式是示范性的，不是最终版本）


## 结构定义 ##

**文件名： erlbattle.warlog**


包含三种语法结构

### 1.角色动作指令 ###

**格式：  回合，动作，X 坐标， Y 坐标， 战士编号， 战士面朝方向，当前血量， 当前血量损耗血量**

> 2,walk,2,2,3,w,100,0


代表在第二回合时，3号战士走入 (2,2) 格子， 他的当前血量为 100 ，损耗血量为 0.


面朝方向字段取值为： w,e,s,n   西，东，南，北

动作取值： walk 走， stand 站着不动， status 状态报告， fight 攻击，turnWest, turnEast, turnSouth, turnNorth 转向西/东/南/北 , back 后退

其中status 主要用于当一个角色被别人攻击后，立刻显示其生命状态，例如：

> 3,status,2,3,4,w,90,10

表示第三回合，在（2.3）坐标的战士 4 面朝西边，被砍了一刀，掉了10血，剩余血量 90.

战士编号 1 - 20 。 其中蓝方从11 - 20 （战场显示为 1 -10）


### 2. 角色下一步动作指令 ###

**格式： plan,战士编号，任意显示内容**

plan 是标识符，

战士编号： 同上

任意内容： 内容会在战士的头顶上冒泡出来， 用于显示战士想下一步做什么。如果是 [ ] 表示没想法。 头上的泡就会消失。


### 3. 战场结束指令 ###

**格式： result, 任意内容**

result 是标识符

后面的内容可以是比如  ：  红方获胜  等等信息。

这个消息出现在文件末尾， 出现后，回放器就会显示一个很大的信息。